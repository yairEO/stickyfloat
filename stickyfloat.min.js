/**
 * stickyfloat - jQuery plugin for verticaly floating anything in a constrained area
 * @version         Version 7.2
 * @author          Yair Even-Or (vsync)
 * @copyright       Copyright (c) 2012
 * @license         MIT and GPL licenses.
 * @link            http://dropthebit.com
 *
 **/
(function(c){var i=window,h=document,b,f,a,j,e,d,k;defaults={duration:200,lockBottom:true,delay:0,easing:"linear",stickToBottom:false,cssTransition:false},supportsTransitions=(function(){var m,n=h.createElement("div"),l=["ms","O","Moz","Webkit"],o="transition";if(n[o]==""){return true}o=o[0].toUpperCase()+o.slice(1);for(m=l.length;m--;){if(n[l[m]+o]==""){return true}}return false})(),Sticky=function(l,m){this.settings=l;this.obj=c(m)};Sticky.prototype={init:function(){var l=this;this.onScroll=function(){l.rePosition()};c(i).ready(function(){l.rePosition(true);c(i).on("scroll.sticky",l.onScroll)});this.obj.data("_stickyfloat",l)},rePosition:function(r,o){var s=this.obj,n=this.settings,q=r?0:n.duration,m=i.pageYOffset||h.documentElement.scrollTop,l=i.innerHeight||h.documentElement.offsetHeight,p=s[0].clientHeight;s.stop();if(n.lockBottom){b=s[0].parentNode.clientHeight-p-n.offsetBottom}if(b<0){b=0}a=m>n.startOffset;j=s.offset().top>(n.startOffset+n.offsetY);e=p<l;if((a||j&&e)||o){d=n.stickToBottom?m+l-p-n.startOffset-n.offsetY:m-n.startOffset+n.offsetY;if(d>b&&n.lockBottom){d=b}if(d<n.offsetY){d=n.offsetY}else{if(m<n.startOffset&&!n.stickToBottom){d=n.offsetY}}if(q<5||(n.cssTransition&&supportsTransitions)){s[0].style.top=d+"px"}else{s.stop().delay(n.delay).animate({top:d},q,n.easing)}}},update:function(l){if(typeof l==="object"){if(!l.offsetY||l.offsetY=="auto"){l.offsetY=g(this.obj).offsetY}if(!l.startOffset||l.startOffset=="auto"){l.startOffset=g(this.obj).startOffset}this.settings=c.extend({},this.settings,l);this.rePosition(false,true)}return this.obj},destroy:function(){c(window).off("scroll.sticky",this.onScroll);this.obj.removeData();return this.obj}};function g(o){var m=parseInt(o.parent().css("padding-bottom")),l=parseInt(o.parent().css("padding-top")),n=o.parent().offset().top;return{startOffset:n,offsetBottom:m,offsetY:l}}c.fn.stickyfloat=function(m,l){if(typeof m==="object"){l=m}else{if(typeof m==="string"){if(this.data("_stickyfloat")&&typeof this.data("_stickyfloat")[m]=="function"){var n=this.data("_stickyfloat");return n[m](l)}else{return this}}}return this.each(function(){var q=c(this),o=c.extend({},defaults,g(q),l||{});var p=new Sticky(o,q);p.init()})}})(jQuery);